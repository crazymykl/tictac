#! /bin/env python
# -*- coding: utf-8 -*-

from tictacboard import Board, play_game
from tictacstategen import statemap
from tictacAI import Critter, Population

class Human(object):

    def get_move(self, brd):
        move=''
        while not move in brd.legal_moves():
            try: move=int(raw_input("%s's move? "%brd.active_symbol()))-1
            except ValueError: pass
        return move

def trial(home, away, num=250):
    wins = 0
    draws = 0
    print "Beginning trials..."

    for i in range(num):
        game = play_game(home, Critter(), False)
        if game == Board.X: wins += 1
        elif game == Board.draw: draws += 1
        game = play_game(Critter(), home, False)
        if game == Board.O: wins += 1
        elif game == Board.draw: draws += 1

    return (100 * wins / (num * 2), 100 * draws / (num * 2))

if __name__ == "__main__":
    s='''02062557031341476065762006286848283274537871576242012641858868577874147503244320417744628380350471417827611260357143565313443275235374284125823134565406574258833734828822250382438847338202844514883312677404684871172573363235628341053167255607512646081771684272554847403533455788473017125383477238323850665808384356134402370614668361203682605066120501341415843300448502554076123285608752024121888048535712743107402248536810808025285622470500354450317367143506522130070551832720023716758877368420184207188022875552212734151245386325344615305585618485132604407153084158371031210480218587181028637083817728540258012341051316222688416772730657120226826856763662128857853202635057534623747425241761345023377516752160685655205767847514027747048740405411441607202658444660483063110645776326863340665120064648045232076007855044760558335238288364228003730762236401006558048225315015276786047364005326040710656323023777608752881145156437652111666442276182245575150025787265562175117572840434357218800634583878555874475480523040333872635037857048854305560061403288707320705141448263887166133162615354331737280518014825204412888515641333778106137462841361465631680131280513024345067220083184785210628100867472476852344082541666268543580155141055404883306441480641521040116738118304858625815387301222447465040507507462272762002841063072576336626864462255648800058307858020417176568200044844461580888567472743006882377111420820608056730487147602223266072856054114005627106677115746676411363848430314218145117257464337104140301626004361103508448217340837301083160007825815820406605457546835426188831613444271871436528602282060712338562606750670642723713148356070032276466460546184318813662306423040823511760456624404840743721835637834462810362184278710040882445644560481306154446536854788716312817042625300462017241324022842120273281657820888260044166044013867360122536732772460586718343807304463778574668853266445557260405876663275800861051830752647138664478464378184112208872470246014057815300471347416422158671675270232772633867116262006076212605787302746681542506047722840863667811800383503716035414113470443181584577422335277513084262657818674345434166388665888678017525087753728741405623588251655847822285366538820802760403473038264434728547857411448314135053411338418403536424602230144224255664421312330750232571756545681313175680762488721052684423623486483130138075776825352500048230050506412460232110271884310623383822410107185114434450866737622831581006166721887678272672067468064733774778201121686116342157422784004462714255077112573342350743446031230863535886844160031333587326634008663651735111873380213126142605516334110666877405633353082015303653832056748464658531784213364455274653170234554052343620017885686386564264020508803380550146565415652725032468750461613601034852041814578385726132404841522573240141237835864343887535231361741208275465030418332728253356113703232363036383551288852182157288306663267401377207503268353434272643721453750818768643143087060123613567321735030548602575032364746231001571662344266376428236785600483444731715734672238670088445726347235366811584513652604755003674437646565547080576576744187481268448878341873355614840586682326308837564464428108407363415187444284383584503018776006713887260143342845780472701703551148260044557174867838551783342714415382620436471241584618016430874533537548772673773750148104318040321071872255853002462641371076815220471522168402737767012075070870730340060127326826288811857582377706351752448455616604405427544521076678842437773808353443404455063504516357375781106503771300344420058374431387145563431230378747384077060242783037770708702373451158208135008756760570561563280615754484468420715684346666540683288245486572533546183000252068700534530664464765288477533418245244574402854356364022802214840668576528767638552422546486077666302487483483125624187615621278786420382250276564752558448240020826746340778425040736246227077681763323742278564602837608637356888643872212072637648514618882781804316576643030214813235881677682647664772226152563470601180220852082354822176386587056805614750288565107246547232114871633221106837131485528661317482516777725803133635700407131316360031027680661520032841528304310066621587282460668838430605764033006172207738013075444342505653445562684712510875342542168061183271675077171668000327156113268740715582161888114603180682231624067727061134081206106318841472274546265653340361404061330678508685873047613238327756428238664626617543060726401287135143528518070414254842862101086815155744012721313501088023145676355260854481165'''
    s2='''03217552010537746455722007008878736544237621050072332022883888574874187421364333607221888880356487757127434600087648585116444280267030710125278131765451776545603215878806223342138327430006846534884374277625786372371600343250477314043186451253640261021471787212256847103652405086878414485733777231203664665108368835048484610634765611250302607866520541040411874687412050274387173254068300126565880046740734353730386340368220702125683648034500351034037774115640462176000782032488471160647202764600354267116268880562232550531443566647064635305235218480128817828517244608107558218857518311530028616128551721542484312327003381267482436577801606523824668068768722222217886244750406676603286840144568655022385360871666676813056045342882347647582817886848412808362881025258433330001417271326354831725876620105070573265227883666610058741233268341728034437366178368016558028315135048554782458438474356040312454324084873431446025135155063686514638440467582245276274147775863525476417652147215172245006642072872715804406380378273321372538435136268553606568720560682007380208423648763056600136012035155688417880348211522600283846765647535218445614866521361145041540214853013004016880210633687681482626340468174474802344568468407108564376155848156554881345245531642551154015234750204017275664305867415441215448002673860873464623088424278177060621060708455444431048366233223482460326560037804311540818681321544615088127240020272828758437177820102278041061876053817377567301608145833670838063421537515118148087457471657756203306224650534153338848612147637306577265528428558258428871814514833766585341216140141522802121531733864711318162757030671647722363122353615532270081401745484530853682836626870820732740781547768575534168030670387411817384436688730013367648644046481623554446234444465416422826488535371263852241605425812256563031305680148464055116123213074250062438886834210287618323203505425302371637473206168587260670873603215043501211266752544036566781425258454510104732273245024057015330071442280426345612713268218742640887106077006786562610283102446155132266547845245863163403800383130714115171035476024831714370504815417016061332555425315840531606286488824283342586057643424814086823181401212868522221367682870604723434506863514024020646176360348814106253477681440220532042602400384231255324758242650481407514547755618353108758732173711052517748826101180437002035371821016540511037080356645080630345812820000505686420350527665565114724166458722835181310866728842683848673528668823733703110206024360720227132502671087413416800062012378467855451410158544853377780817130444374532323647720365051487411832680753686361802375616718234400475837387082015304633708610658474611534585410834450364348176751714051343225023348035581828265034607313241611554138205782160572535374461155641724513485817062685716107414580582516165441566838862145181521021284446138205417164118361037052280111601081180757666681343451180577287006667210348266744433261327174841274052434737818758641114877144823831265341520012848602536651383846236241441263748286028425106185683448454658282834472730673088127775143771326771528526652038772816204435640400664623544002814142766688417678521082357666780604110427348307404466528600472863761724184652423874551038075840553276260342318534384472786732650445347341353364227251553080845744463328620576331324314618316520634485232045080120023851173758518020551741515315821454572681481075334617011123568042832046614043630620775846050620306777037088867787436176330756451285726304425417526418648424542257724462373481204407337106516560557830446553788310337410044441467305614000473627028527100067563542683053004735323041175004500414426386563470157270483585152404436420735684360666346705156705486674325524130004085015765534025863165574283080232111252334507286254755258724602016020463573508562155521321540266277266312637487122444681147807643372730521365250276544502818262648026026864350778781030205500817076683763737633367664307317700818706573065178373132761048818147062183500825887042030217813021185677082707034252140573063327641678100052013764121377166587055854615250111527650316048032176568541228648833420085605330216482087874724807635647746401600516274068826554656581263075208343552346647184788866705040447605254163405272252128853673184746584601442255886752582825305644864761703541178073124888656350127165228470071682361876114134744611181600438347041007351265806720708826217638865357050304654616388758555632173542417815020676268278684226217161588786232865185240100241624815736042660161641858153704682228388103084820116670871860012874266'''
    print play_game(Critter(s2),Human())
    #p= Population()
    #print "%f%% wins, %f%% draws"%trial(p, Critter())